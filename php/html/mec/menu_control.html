<!DOCTYPE html>
<html lang="ko">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no, target-densitydpi=device-dpi" />
<meta name="format-detection" content="telephone=no,email=no,address=no" />
<title>MEC_CMS</title>
<link rel="stylesheet" href="../../css/mec/core.css" media="all" />
<link rel="stylesheet" href="../../css/mec/skin.css" media="all" />
<link rel="stylesheet" href="../../css/mec/layout.css" media="all" />
<link rel="stylesheet" href="../../css/mec/content.css" media="all" />
<script>
/* js의 contextpath 적용 */
var contextPath ="../..";
</script>
<script src="../../js/mec/js.js"></script>

<!-- <script type="text/javascript" src="../../js/cms/js.js"></script> -->

	<script src="../../js/core/html5.js"></script>	
	<script src="../../js/core/respond.min.js"></script>
	<!--<script src="../../js/cms/bluebird.js"></script> -->

</head>
<body class="cms">
<div id="wrap">
	<div id="container">
		<div id="remote">
			<h1 id="logo"><a href="/"><img src="../../images/mec/layout/logo.png" alt="logo" /></a></h1>
			<div class="js_menu">
				<ul class="code_">
					<li><a href="#">1 Depth Menu</a>
						<ul>
							<li><a href="#" class="menu_arrow">2 Depth Menu</a>
								<ul>
									<li><a href="#">3 Depth Menu</a></li>
									<li><a href="#">3 Depth Menu</a></li>
								</ul>
							</li>
							<li><a href="#">2 Depth Menu</a></li>
							<li><a href="#">2 Depth Menu</a></li>
							<li><a href="#">2 Depth Menu</a></li>
						</ul>
					</li>
					<li><a href="#">1 Depth Menu</a></li>
					<li><a href="#">1 Depth Menu</a>
						<ul>
							<li><a href="#" class="menu_arrow">2 Depth Menu</a>
								<ul>
									<li><a href="#">3 Depth Menu</a></li>
									<li><a href="#">3 Depth Menu</a></li>
								</ul>
							</li>
							<li><a href="#">2 Depth Menu</a></li>
							<li><a href="#">2 Depth Menu</a></li>
						</ul>
					</li>
					<li><a href="#">1 Depth Menu</a></li>
					<li><a href="#">1 Depth Menu</a></li>
				</ul>
			</div>
		</div>
		<div id="content">
			<div id="path">
				<div id="global">
					<ul>
						<li><strong>전체관리자</strong></li>
						<li>222.222.222.222</li>
						<li class="last"><a href="#"><img src="../../images/mec/layout/btn_logout.png" alt="로그아웃" /></a></li>
					</ul>
				</div>
			</div>

			<!-- txt ::s:: -->
			<div id="txt">
				<h3>메뉴관리</h3>
				<!-- 대메뉴탭 ::s:: -->
				<div class="js_tab_menu menu_control">
					<ul>
						<li class="on"><a href="#">대메뉴1</a></li>
						<li><a href="#">대메뉴2</a></li>
						<li><a href="#">대메뉴3</a></li>
						<li><a href="#">대메뉴4</a></li>
						<li><a href="#">대메뉴5</a></li>
						<li><a href="#">대메뉴6</a></li>
						<li class="menu_add"><a href="#"><span><img src="../../images/mec/content/btn_menu_add.png" alt="대메뉴추가"></span></a></li>
					</ul>  
				</div>
				<!-- 대메뉴탭 ::e:: -->
				

				<div class="menu_add_group">
					<!-- 메뉴 tree ::s:: -->
					<div class="menu_add_list">
						<div class="menu_add_control">
							<a href="#" class="btn lock_open">Lock 해제</a>
							<a href="#" class="btn lock_close">Lock 잠금</a>
							<a href="#" class="btn del">삭제</a>
							<a href="/mec/userMenu/kor/makeXml.do?menuNo=10" class="btn">메뉴적용</a>
							<a href="/mec/userMenu/kor/manager.do?menuNo=10" class="btn">담당자 지정</a>
							<a href="/mec/userMenu/kor/makeAllXml.do" class="btn">모든메뉴적용</a>

							<div class="search">
								<div class="menu_control_search">
									<select>
										<option value="1">메뉴명</option>
									</select>
									<input type="text" />
									<a href="#">검색</a>
								</div>
							</div>
						</div>

						<div class="menu_add_blind"></div>
						
						<ul id="menu_tree">
							<li id="node0" nodrag="true" class="th">
								<img src="/js/core/plug/drag-drop-folder-tree/images/dhtmlgoodies_plus.gif" style="visibility: hidden;"><span class="deps"></span><a href="#" id="nodeATag0">
									<strong class="menu_object">메뉴</strong>
									<div class="menu_add">하위메뉴</div>
									<div class="menu_type">유형</div>
									<div class="menu_order">담당자</div>
									<div class="menu_content">콘텐츠</div>
									<div class="menu_etc">상태</div>
								</a>
							</li>
							<li id="node2" nodrag="true" nochildren="true" style="display: block;">
								<img src="http://openportal.mayeye.net/js/core/plug/drag-drop-folder-tree/images/dhtmlgoodies_minus.gif"><span class="deps"></span><a href="#" id="nodeATag2" class="highlightedNodeItem">
									<!-- 데이터 ::s:: -->
									<input type="hidden" name="cntNo" class="menu_code" value="2"><!-- code -->
									<input type="hidden" name="depth" class="depth_code" value="1">
									<!-- 데이터 ::e:: -->
									<div class="check"><input type="checkbox"></div>
									<strong class="menu_object"><input type="hidden" name="title" value="라이선스검증">라이선스검증</strong>
									<div class="menu_add">하위메뉴</div>
									<div class="menu_type">html</div>
									<div class="menu_order"></div>
									<div class="menu_content"></div>
									<div class="menu_etc">
										출력
									</div>
								</a>
								<ul id="tree_ul_2" style="display: block;">	
									<li id="node21">
										<img src="http://openportal.mayeye.net/js/core/plug/drag-drop-folder-tree/images/dhtmlgoodies_minus.gif"><span class="deps"></span><a href="#" id="nodeATag21">
											<!-- 데이터 ::s:: -->
											<input type="hidden" name="cntNo" class="menu_code" value="18"><!-- code -->
											<input type="hidden" name="depth" class="depth_code" value="2">
											<!-- 데이터 ::e:: -->
											<div class="check"><input type="checkbox"></div>
											<strong class="menu_object"><input type="hidden" name="title" value="라이선스 소개">라이선스 소개</strong>
											<div class="menu_add">하위메뉴</div>
											<div class="menu_type">html</div>
											<div class="menu_order"></div>
											<div class="menu_content">
											</div>
											<div class="menu_etc">
													출력
											</div>
										</a>
										<ul id="tree_ul_3" style="display: block;">
											<li id="node211">
												<img src="/js/core/plug/drag-drop-folder-tree/images/dhtmlgoodies_plus.gif" style="visibility: hidden;"><span class="deps"></span><a href="#" id="nodeATag211">
													<!-- 데이터 ::s:: -->
													<input type="hidden" name="cntNo" class="menu_code" value="19"><!-- code -->
													<input type="hidden" name="depth" class="depth_code" value="3">
													<!-- 데이터 ::e:: -->
													<div class="check"><input type="checkbox"></div>
													<strong class="menu_object"><input type="hidden" name="title" value="라이선스 의의">라이선스 의의</strong>
													<div class="menu_add">하위메뉴</div>
													<div class="menu_type">html</div>
													<div class="menu_order"></div>
													<div class="menu_content">
															라이선스 의의
													</div>
													<div class="menu_etc">
															출력
													</div>
												</a> 
											</li>
									 	</ul>
									</li>
								 </ul> 
							</li>
						</ul>
					</div>
					<!-- 메뉴 tree ::e:: -->

					<!-- 메뉴설정 슬라이드 ::s:: -->
					<div class="menu_add_box">
						<div class="title">
							<strong>메뉴설정</strong>
							<a href="#" class="close"><img src="../../images/mec/content/btn_menu_close.png" alt="메뉴설정닫기" /></a>
						</div>
						<div class="view">



							<table>
								<caption></caption>
								<colgroup>
									<col style="width:87px;">
									<col style="width:auto;">
								</colgroup>
								<tbody>
									<tr>
										<th scope="row">메뉴명</th>
										<td class="left">
											<input type="text" name="title" value="">
										</td>
									</tr>
									<tr>
										<th scope="row">출력순서</th>
										<td class="left">
											 <input type="text" id="orderNo" name="orderNo" value="10" readonly="readonly">
										</td>
									</tr>
									<tr>
										<th scope="row">페이지유형</th>
										<td class="left">
											<div class="cms_menu_check_list">
												<input type="radio" id="page_type1" name="pageType" value="html" onchange="pagechange(this)" checked="checked">
												<label for="page_type1" class="on">HTML</label>
					
												<input type="radio" id="page_type2" name="pageType" value="board" onchange="pagechange(this)">
												<label for="page_type2" class="">Board</label>
											
												<input type="radio" id="page_type3" name="pageType" value="program" onchange="pagechange(this)">
												<label for="page_type3" class="">Program</label>
												
												<input type="radio" id="page_type4" name="pageType" value="linkUrl" onchange="pagechange(this)">
												<label for="page_type4" class="">LINKURL</label>
											</div>
										</td>
									</tr>
									<tr class="linkUrl">
										<th scope="row">링크 URL</th>
										<td class="left">
											<input type="text" id="linkUrl" name="linkUrl">
					                    </td>
									</tr>
									<tr class="connection" style="display: table-row;">
										<th scope="row">콘텐츠</th>
										<td class="left">
											<!-- 컨텐츠 -->
											<div class="mb_05 mt_05">
												<input type="checkbox" id="content_reservation" name="reserveYn" value="Y">
												<label for="content_reservation">콘텐츠 예약 설정</label>
											</div>
											<ul class="tie">
												<li>
													<a href="#" class="btn small ty_4 add">연계관리</a>
													<input type="hidden" name="inContetNo" value="">
													<input type="hidden" name="inMenuNo" value="">
													<span class="tip">
														연계할 콘텐츠를 선택하세요.
													</span>
													<span class="object"></span>
													<a href="#" class="btn small bg_02 close">x</a>
												</li>
												<li style="display:none;">
													<a href="#" class="btn small ty_4 add">예약관리</a>
													<input type="hidden" name="reContetNo" value="">
													<input type="hidden" name="reMenuNo" value="">
													<span class="tip">
														연계할 콘텐츠를 선택하세요.
													</span>
													<span class="object"></span>
													<div class="cal">
														<input type="text" class="js_cal" name="startDay" value=""> ~ 
														<input type="text" class="js_cal" name="lastDay" value=""> 
													</div>
													<a href="#" class="btn small bg_02 close">x</a>
												</li>
											</ul>

											<ul class="tie">
												<li>
													<a href="#" class="btn small ty_4 add">연계관리</a>
													<input type="hidden" name="inContetNo" value="" /> 
													<input type="hidden" name="inMenuNo" value="" />
													<span class="tip">
														연계할 게시판을 선택하세요.
													</span>
													<span class="object"></span>
													<a href="#" class="btn small bg_02 close">x</a>
												</li>
											</ul>	

											<ul class="tie">
												<li>
													<a href="#" class="btn small ty_4 add">연계관리</a>
													<input type="hidden" name="inContetNo" value="" /> 
													<input type="hidden" name="inMenuNo" value="" />
													<span class="tip">
														프로그램을 선택하세요.
													</span>
													<span class="object"></span>
													<a href="#" class="btn small bg_02 close">x</a>
												</li>
											</ul>	
										</td>
									</tr>
									<tr>
										<th scope="row">링크타겟</th>
										<td class="left">
											<select name="linkTarget">
				                 	  	        <option value="_self">현재창</option>
				                                <option value="_blank">새창</option>
					                        </select>						
					                    </td>
									</tr>
									<tr>
										<th scope="row">출력여부</th>
										<td class="left">
											<input type="radio" id="view_on" name="display" value="Y" checked="checked">
											<label for="view_on">사용자 출력</label>

											 <input type="radio" id="view_off" name="display" value="N" class="ml30">
				                             <label for="view_off">사용자 미출력</label>
										</td>
									</tr>
								</tbody>
							</table>
							
							<div class="align_center mt_15 mb_15">
								<a href="#" class="btn ty_3">저장</a>
								<a href="#" class="btn ty_1">취소</a>
							</div>


						</div>
					</div>
					<!-- 메뉴설정 슬라이드 ::e:: -->
				</div>



				<!-- 콘텐츠 연계 레이어창 ::s:: -->
				<div id="layer_window" class="bind_content">
					<div class="con_ajax">
						<div class="con_sub_area">
							<div class="head">
								<strong>콘텐츠 연계</strong>
							</div>
							<div class="search">
								총 게시물 000건
								<div>
									<input type="text" name="searchKeyword" value="" class="js_input_val" title="제목을 검색해주세요.">
								</div>
							</div>
							<div class="view">
								<table class="table">
									<caption>콘텐츠 연계</caption>
									<colgroup>
										<col style="width:40px;">
										<col style="width:200px;">
										<col style="width:auto;">
										<col style="width:200px;">
									</colgroup>
									<thead>
										<tr>
											<th scope="col">&nbsp;</th>
											<th scope="col">제목</th>
											<th scope="col">콘텐츠 설명</th>
											<th scope="col">사용메뉴</th>
										</tr>
									</thead>
								</table> 
								<table class="table" id="user-table">
									<caption>콘텐츠 연계</caption>
									<colgroup>
										<col style="width:40px;">
										<col style="width:200px;">
										<col style="width:auto;">
										<col style="width:200px;">
									</colgroup>
									<tbody>
										<tr>
											<td>
												<input type="checkbox" name="content" value="">
											</td>
											<td>컨텐츠 1</td>
											<td>컨텐츠 1입니다.</td>
											<td>메뉴1 &gt; 메뉴1_1 &gt; 메뉴1_1_1</td>
										</tr>
										<tr>
											<td>
												<input type="checkbox" name="content" value="147">
											</td>
											<td>컨텐츠 2</td>
											<td>컨텐츠 2입니다.</td>
											<td>메뉴1 &gt; 메뉴1_1 &gt; 메뉴1_1_1</td>
										</tr>
										<tr class="no">
											<td>
												<input type="checkbox" name="content" value="146">
											</td>
											<td>컨텐츠 3</td>
											<td>컨텐츠 3입니다.</td>
											<td>메뉴1 &gt; 메뉴1_1 &gt; 메뉴1_1_1</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>

					<div class="align_center">
						<a href="#" class="btn ty_3">적용</a>
					</div>

					<a href="#" class="close"><img src="../../images/mec/content/btn_close_01.png" alt="닫기"></a>
				</div>
				<!-- 콘텐츠 연계 레이어창 ::e:: -->


				<!-- 게시판 연계 레이어창 ::s:: -->
				<div id="layer_window" class="bind_bbs">
					<div class="bbs_ajax">
						<div class="head">
							<strong>게시판 연계</strong>
						</div>
						<div class="search">
							총 게시물 000건
							<div>
								<input type="text" name="bMsearchWrd" class="js_input_val" title="제목을 검색해주세요.">
							</div>
						</div>
						<div class="view">
							<table class="table">
								<caption>게시판 연계</caption>
								<colgroup>
									<col style="width:40px;">
									<col style="width:200px;">
									<col style="width:auto;">
									<col style="width:200px;">
								</colgroup>
								<thead>
									<tr>
										<th scope="col">&nbsp;</th>
										<th scope="col">제목</th> 
										<th scope="col">게시판 설명</th>
										<th scope="col"></th>
									</tr>
								</thead>
							</table>
							<table class="table" id="user-table">
								<caption>프로그램 연계</caption>
								<colgroup>
									<col style="width:40px;">
									<col style="width:200px;">
									<col style="width:auto;">
									<col style="width:200px;">
								</colgroup>
								<tbody>
									<tr class="no">
										<td>
											<input type="checkbox" name="program" value="130">
										</td>
										<td>게시판 1</td>
										<td>설명설명설명설명설명설명</td>
										<td></td>
									</tr>
									<tr>
										<td>
											<input type="checkbox" name="program" value="128">
										</td>
										<td>게시판 2</td>
										<td>설명설명설명설명설명설명</td>
										<td></td>
									</tr>
									<tr class="no">
										<td>
											<input type="checkbox" name="program" value="127">
										</td>
										<td>게시판 3</td>
										<td>설명설명설명설명설명설명</td>
										<td></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>

					<div class="align_center">
						<a href="#" class="btn ty_3">적용</a>
					</div>

					<a href="#" class="close"><img src="../../images/mec/content/btn_close_01.png" alt="닫기" /></a>
				</div>
				<!-- 게시판 연계 레이어창 ::e:: -->


				<!-- 프로그램 연계 레이어창 ::s:: -->
				<div id="layer_window" class="bind_prog">
					<div class="prog_ajax">
						<div class="head">
							<strong>프로그램 연계</strong>
						</div>
						<div class="search">
							총 게시물 000건
							<div>
								<input type="text" name="bMsearchWrd" class="js_input_val" title="제목을 검색해주세요.">
							</div>
						</div>
						<div class="view">
							<table class="table">
								<caption>프로그램 연계</caption>
								<colgroup>
									<col style="width:40px;">
									<col style="width:200px;">
									<col style="width:auto;">
									<col style="width:200px;">
								</colgroup>
								<thead>
									<tr>
										<th scope="col">&nbsp;</th>
										<th scope="col">제목</th> 
										<th scope="col">게시판 설명</th>
										<th scope="col"></th>
									</tr>
								</thead>
							</table>
							<table class="table" id="user-table">
								<caption>프로그램 연계</caption>
								<colgroup>
									<col style="width:40px;">
									<col style="width:200px;">
									<col style="width:auto;">
									<col style="width:200px;">
								</colgroup>
								<tbody>
									<tr class="no">
										<td>
											<input type="checkbox" name="program" value="130">
										</td>
										<td>프로그램 1</td>
										<td>설명설명이라네</td>
										<td></td>
									</tr>
									<tr>
										<td>
											<input type="checkbox" name="program" value="128">
										</td>
										<td>프로그램 2</td>
										<td>설명설명이라네</td>
										<td></td>
									</tr>
									<tr class="no">
										<td>
											<input type="checkbox" name="program" value="127">
										</td>
										<td>프로그램 3</td>
										<td>설명설명이라네</td>
										<td></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>

					<div class="align_center">
						<a href="#" class="btn ty_3">적용</a>
					</div>

					<a href="#" class="close"><img src="../../images/mec/content/btn_close_01.png" alt="닫기" /></a>
				</div>
				<!-- 프로그램 연계 레이어창 ::e:: -->
			</div>
			<!-- txt ::e:: -->
		</div>
	</div>
</div>



<script type="text/javascript">

	$(document).ready(function(){


		//대메뉴 추가 클릭시
		$(".js_tab_menu > ul >li.menu_add > a").click(function(){
			//초기화
			$("#menu_tree a").removeClass("on");
			$("#menu_tree .menu_add").removeClass("on");
			
			//ajax
			// $.post("/mec/menuAjax/kor/RegistView.do?menuNo=10", function(result) {
			// 		$(".menu_add_box .view").html(result);
			// });
			

			//화면구성
			$(".menu_add_group").addClass("on");
			return false;
		});
		
		// $.post("/mec/menuAjax/kor/list.do?menuNo=10", function(result) {
		// 	$("#menu_tree").html(result);
		// });

		$(".menu_add_box > .title > .close").click(function(){
			$(".menu_add_group ").removeClass("on");
		});

	
		
		var menu_lock = $(".menu_add_blind");
		var menu_lock_btn_open = $(".lock_open");
		var menu_lock_btn_close = $(".lock_close");
		
		menu_lock_btn_open.click(function(){
			menu_lock_btn_open.hide();
			menu_lock_btn_close.show();
			
			menu_lock.animate({"opacity":"0"},300,function(){
				menu_lock.hide();
			});
			return false;
		});
		menu_lock_btn_close.click(function(){
			menu_lock_btn_open.show();
			menu_lock_btn_close.hide();
			
			menu_lock.show();
			menu_lock.animate({"opacity":"0.5"},300);
			return false;
		});
		
		menu_lock_btn_close.click();

		
	});
// type_btn_AC();
function pagechange(obj){
	var _this = $(obj);
	var temp = _this.val();
	
	if(temp == ""){
		temp="html";
	}
	
	// $.post("/mec/userMenu/Ajax/connection.do", {"pageType": temp, "cntNo" : "0"}, function(result) {
	// 	$(".connection > td").html(result);
		
		$(".cms_menu_check_list label").removeClass("on");
			
		if(temp == "html"){
			$(".connection > th").html("콘텐츠");
			$(".connection").show(); 
			$(".cms_menu_check_list label[for=page_type1]").addClass("on");
		} else if(temp == "board"){
			$(".connection > th").html("게시판");
			$(".connection").show();   
			$(".cms_menu_check_list label[for=page_type2]").addClass("on");
		} else if(temp == "program"){
			$(".connection > th").html("프로그램");
			$(".connection").show();
			$(".cms_menu_check_list label[for=page_type3]").addClass("on");
		} else{
			$(".connection").hide();
			$(".cms_menu_check_list label[for=page_type4]").addClass("on");
		}
		
	// });
}  
type_btn_AC();

//콘텐츠 연계,예약 버튼
function type_btn_AC(){
	var lpop = $(".bind_content");
	$(".menu_add_box .view .tie .add").click(function(){
		var _this = $(this);
		lpop.fadeOut(200);	
		if($("input[name=pageType]:checked").val() == 'html'){
			lpop = $(".bind_content");
		}else if($("input[name=pageType]:checked").val() == 'board'){
			lpop = $(".bind_bbs");
		}
		else if($("input[name=pageType]:checked").val() == 'program'){
			lpop = $(".bind_prog");
		}
		// lpop.btn = lpop.find(" .board_yes");
	
		if($(this).siblings(".tip").is(":hidden")) return false;
		
		blind_on($("#content"), function(){
			lpop.fadeIn(200);
		});

		//닫기
		lpop.find(">.close").click(function(){
			lpop.fadeOut(200);
			blind_off();
		});

	});

}

//연계,예약 삭제버튼
function tie_del(){
	$(".menu_add_box .view .tie .close").bind("click",function(){
		//바인드
		$(this).hide().siblings().hide();
		$(this).siblings(".object").empty();
		$(this).siblings(".tip , .add").css("display","block");
		$(this).siblings(".cal").find(" input:text").val("");
		
	});
}
</script>
</body>
</html>